import{_ as n}from"./plugin-vue_export-helper-c27b6911.js";import{o as a,c as s,f as t}from"./app-4189f395.js";const e={},p=t(`<p><strong>vue 是什么？</strong></p><p>一套用于构建用户界面的渐进式 JavaScript 框架。Vue 可以自底向上逐层的应用。2015 年 10 月 27 日正式发布 Vue1.0 版本，2016 年 10 月 1 日发布 Vue2.0 版本，2020 年 9 月 18 日正式发布 Vue3.0 版本。</p><p><strong>vue 特点？</strong></p><ul><li><p>采用组件化模式，提高代码复用率，且让代码更好维护。</p></li><li><p>声明式编码，让编码人员无需直接操作 DOM，提高开发效率</p><blockquote><p>声明式编码如 v-for、模板语法等，命令式编码：需要用到 document 操作 DOM</p></blockquote></li><li><p>使用虚拟 DOM+优秀的 Diff 算法，尽量复用 DOM 节点。</p></li></ul><h1 id="vue2-学习笔记" tabindex="-1"><a class="header-anchor" href="#vue2-学习笔记" aria-hidden="true">#</a> Vue2-学习笔记</h1><h2 id="_1-vue-基础" tabindex="-1"><a class="header-anchor" href="#_1-vue-基础" aria-hidden="true">#</a> 1 vue 基础</h2><h3 id="_1-1-vue-实例化" tabindex="-1"><a class="header-anchor" href="#_1-1-vue-实例化" aria-hidden="true">#</a> 1.1 Vue 实例化</h3><ul><li>Vue 工作，必须创建一个 Vue 实例，且要传入一个配置对象.</li><li>root 容器里的代码依然符合 html 规范，只不过混入了一些特殊的 Vue 语法。</li><li>root 容器里的代码被称为 Vue 模板。</li><li>Vue 实例和容器是一一对应的。</li><li>模板中语法中的 xxx 要写 js 表达式，且 xxx 可以自动读取到 data 中所有属性。</li><li>一旦 data 中数据发生改变，那么模板中用到该数据的地方也会自动更新。</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">&#39;#root&#39;</span><span class="token punctuation">,</span> <span class="token comment">// el用于指定当前Vue实例为哪个容器服务，值通常为css选择器字符串。</span>
  <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>app<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">&#39;#app&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>注意区分：js 代码（语句：const a=1;）和 js 表达式（一个表达式会生成一个值，可以放在任何一个需要值的地方，如 a+b）</p><h3 id="_1-2-模板语法" tabindex="-1"><a class="header-anchor" href="#_1-2-模板语法" aria-hidden="true">#</a> 1.2 模板语法</h3><ul><li><p>插值语法：用于解析标签体内容，写法如下，xxx 是 js 表达式，且可以直接读取到 data 中所有属性。</p><div class="language-vue line-numbers-mode" data-ext="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>{{name}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>指令语法：用于解析标签（包括标签属性、标签体内容、绑定事件...），如 v-bind:href=“xxx”，xxx 同样写 js 表达式，且可以直接读取到 data 中的所有属性。</p><div class="language-vue line-numbers-mode" data-ext="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name"><span class="token namespace">v-bind:</span>href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>url<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li></ul><h3 id="_1-3-数据绑定" tabindex="-1"><a class="header-anchor" href="#_1-3-数据绑定" aria-hidden="true">#</a> 1.3 数据绑定</h3><ul><li><p>单向绑定：只能从 data 中传递值，value 改变值不能改变存到 data 中的变量，通俗来说就是数据只能从 data 流向 data。</p><div class="language-vue line-numbers-mode" data-ext="vue"><pre class="language-vue"><code>单向数据绑定：
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name"><span class="token namespace">v-bind:</span>value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>name1<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>双向绑定：data 中声明的默认值改变，value 可以改变；value 的改变同时可以改变存到 data 中的值，通俗来说就是数据不仅能从 data 流向页面，还可以从页面流向 data。</p><div class="language-vue line-numbers-mode" data-ext="vue"><pre class="language-vue"><code>双向数据绑定：
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>name2<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><p>​ 注意：v-model 只能用在表单元素，如果用在 h2 这种非表单元素是不支持报错的。v-model:value 可以简化为 v-model。</p><h3 id="_1-4-el-与-data-的两种写法" tabindex="-1"><a class="header-anchor" href="#_1-4-el-与-data-的两种写法" aria-hidden="true">#</a> 1.4 el 与 data 的两种写法</h3><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// el第一种写法</span>
<span class="token keyword">const</span> v <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">&#39;#root&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;abc&#39;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// el第二种写法</span>
<span class="token keyword">const</span> v <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;abc&#39;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
v<span class="token punctuation">.</span><span class="token function">$mount</span><span class="token punctuation">(</span><span class="token string">&#39;#root&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// data的第一种写法，在html中写vue就用这种</span>
<span class="token keyword">const</span> v <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">&#39;#root&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;abc&#39;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// data的第二种写法，写组件的时候必须用这种</span>
<span class="token keyword">const</span> v <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">&#39;#root&#39;</span><span class="token punctuation">,</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;abc&#39;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>注意地，data 不能写成箭头函数。</p><h3 id="_1-5-理解-mvvm" tabindex="-1"><a class="header-anchor" href="#_1-5-理解-mvvm" aria-hidden="true">#</a> 1.5 理解 MVVM</h3><ul><li>M：模型（Model），对应 data 中的数据。</li><li>V：视图（View），模板 template。</li><li>VM：视图模型（ViewModel），Vue 实例对象。</li></ul><p>data 中所有的属性，最后都出现在 vm 身上了。vm 身上的所有属性及 Vue 原型上所有属性，在 Vue 模板中都可以直接使用。</p><h3 id="_1-6-数据代理" tabindex="-1"><a class="header-anchor" href="#_1-6-数据代理" aria-hidden="true">#</a> 1.6 数据代理</h3><ul><li><p>Object.defineProperty：它有三个属性：目标对象、需要添加的属性、当前属性配置（是否可枚举、是否可写、是否可删除）。</p></li><li><p>数据代理：通过一个对象代理对另一个对象中属性的操作。</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token literal-property property">x</span><span class="token operator">:</span><span class="token number">100</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> obj2 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token literal-property property">y</span><span class="token operator">:</span><span class="token number">200</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>obj2<span class="token punctuation">,</span><span class="token string">&#39;x&#39;</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
    <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
     <span class="token keyword">return</span> obj<span class="token punctuation">.</span>x<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">set</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">{</span>

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>vm._data === data，vue 中的数据代理通过 vm 对象来代理 data 对象中属性的操作。vue 中的数据代理作用是为了更加方便的操作 data 中的数据，基本原理：通过 defineProperty 把 data 对象中所有属性添加的 vm 上，为每一个添加到 vm 上的属性，都指定一个 getter/setter，在 getter/setter 内部去操作 data 中对应的属性。</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">let</span> data <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;abc&#39;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> v <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">&#39;#root&#39;</span><span class="token punctuation">,</span>
  data<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h3 id="_1-7-事件处理" tabindex="-1"><a class="header-anchor" href="#_1-7-事件处理" aria-hidden="true">#</a> 1.7 事件处理</h3><ul><li><p>事件的基本使用</p><ul><li><p>使用 v-on:xxx 或@xxx 绑定事件，其中 xxx 是事件名</p></li><li><p>事件的回调需要配置在 methods 对象中，最终会在 vm 了</p></li><li><p>methods 中配置的函数，不需要箭头函数，否则 this 就不是 vm 了</p></li><li><p>methods 中配置参数的函数，都是被 Vue 所管理的函数，this 的指向是 vm 或组件实例对象；</p></li></ul></li><li><p>事件的修饰符（事件后加.事件修饰符，比如 click.prevent）</p><ul><li>prevent：阻止默认事件</li><li>stop：阻止事件冒泡</li><li>once：事件只触发一次</li><li>capture：使用事件的捕获模式</li><li>self：只有 event.target 是当前操作的元素才触发事件</li><li>passive：事件默认行为立即执行，无须等待事件回调执行完毕。</li></ul></li><li><p>键盘事件：如@keyup.esc</p><ul><li>回车 =&gt; enter</li><li>删除 =&gt; delete</li><li>退出 =&gt; esc</li><li>空格 =&gt; space</li><li>换行 =&gt; tab</li><li>上（up）下（down）左（left）右（right）</li></ul></li></ul><h3 id="_1-8-计算属性与监听" tabindex="-1"><a class="header-anchor" href="#_1-8-计算属性与监听" aria-hidden="true">#</a> 1.8 计算属性与监听</h3><h4 id="_1-8-1-计算属性-computed" tabindex="-1"><a class="header-anchor" href="#_1-8-1-计算属性-computed" aria-hidden="true">#</a> 1.8.1 计算属性-computed</h4><p>定义：要用的属性不存在（定义在 computed 里的属性没有在 data 中定义的），要通过已有属性（在 data 中已经定义的）计算得来。</p><p>原理：底层借助了 Object.defineproperty 方法提供的 getter 和 setter。get 函数什么时候被调用：1、初次读取时会执行一次。当依赖的数据发生变化改变时会被再次调用。具有缓存机制。</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token literal-property property">data</span><span class="token operator">:</span><span class="token punctuation">{</span>
  <span class="token literal-property property">firstName</span><span class="token operator">:</span><span class="token string">&#39;&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">lastName</span><span class="token operator">:</span><span class="token string">&#39;&#39;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token literal-property property">computed</span><span class="token operator">:</span><span class="token punctuation">{</span>
  <span class="token function">fullName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>firstName<span class="token operator">+</span><span class="token keyword">this</span><span class="token punctuation">.</span>lastName<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_1-8-2-计算属性-watch" tabindex="-1"><a class="header-anchor" href="#_1-8-2-计算属性-watch" aria-hidden="true">#</a> 1.8.2 计算属性-watch</h4><h4 id="_1-8-3-watch-与-computed-对比" tabindex="-1"><a class="header-anchor" href="#_1-8-3-watch-与-computed-对比" aria-hidden="true">#</a> 1.8.3 watch 与 computed 对比</h4><ul><li>computed 能完成的功能，watch 都可以完成</li><li>watch 能完成的功能，computed 不一定能完成，如：watch 可以进行异步操作</li><li>注意：被 Vue 管理的函数，最好写成普通函数，这样 this 的指向才是 vm 或组件实例对象。</li><li>注意：所有不被 Vue 管理的函数（定时器的回调函数、ajax 的回调函数、promise 的回调函数等），最好写成箭头函数，这样 this 的指向才是 vm 或组件实例对象。</li></ul><h3 id="_1-9-class-绑定与-style-绑定" tabindex="-1"><a class="header-anchor" href="#_1-9-class-绑定与-style-绑定" aria-hidden="true">#</a> 1.9 class 绑定与 style 绑定</h3><h4 id="_1-9-1-class-绑定" tabindex="-1"><a class="header-anchor" href="#_1-9-1-class-绑定" aria-hidden="true">#</a> 1.9.1 class 绑定</h4><ul><li>绑定 class 方式一：字符串写法，适用于：样式的类名不确定，需要动态指定。</li><li>绑定 class 方式二：数组写法，适用于：要绑定的样式个数不确定、名字也不确定。</li><li>绑定 class 方式三：对象写法，适用于：样式个数确定、名字也确定、但要动态决定要不要用。</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token operator">&lt;</span>div <span class="token operator">:</span><span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;dynamicClass&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token literal-property property">data</span><span class="token operator">:</span><span class="token punctuation">{</span>
  <span class="token literal-property property">dynamicClass</span><span class="token operator">:</span><span class="token string">&#39;user&#39;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_1-9-2-style-绑定" tabindex="-1"><a class="header-anchor" href="#_1-9-2-style-绑定" aria-hidden="true">#</a> 1.9.2 style 绑定</h4><ul><li>绑定 style 样式方式之一：对象写法</li><li>绑定 style 样式方式之二：数组写法</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token operator">&lt;</span>div <span class="token operator">:</span>style<span class="token operator">=</span><span class="token string">&quot;color:curcolor&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token literal-property property">data</span><span class="token operator">:</span><span class="token punctuation">{</span>
  <span class="token literal-property property">curcolor</span><span class="token operator">:</span><span class="token string">&#39;#000&#39;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_1-10-条件渲染与列表渲染" tabindex="-1"><a class="header-anchor" href="#_1-10-条件渲染与列表渲染" aria-hidden="true">#</a> 1.10 条件渲染与列表渲染</h3><h4 id="_1-10-1-条件渲染" tabindex="-1"><a class="header-anchor" href="#_1-10-1-条件渲染" aria-hidden="true">#</a> 1.10.1 条件渲染</h4><ul><li>v-show：不可以与 template 配合使用。适用于切换频率较高的场景。DOM 元素未被移除，只是使用样式隐藏掉。</li><li>v-if 或 v-else：可以与 template 配合使用。适用于切换频率较低的场景。不展示的 DOM 元素会直接被移除。</li></ul><h4 id="_1-10-2-列表渲染" tabindex="-1"><a class="header-anchor" href="#_1-10-2-列表渲染" aria-hidden="true">#</a> 1.10.2 列表渲染</h4><h3 id="_1-11-key-作用与原理" tabindex="-1"><a class="header-anchor" href="#_1-11-key-作用与原理" aria-hidden="true">#</a> 1.11 key 作用与原理</h3><ul><li><p>虚拟 DOM 中 key 的作用：key 是虚拟 DOM 对象的标识，当状态中的数据发生变化时，Vue 会根据新数据生成新的虚拟 DOM，随后 Vue 进行新虚拟 DOM 与旧虚拟 DOM 的差异比较，比较规则如下：</p></li><li><p>对比规则：</p><p>1）旧虚拟 DOM 中找到与新虚拟 DOM 相同的 key：若虚拟 DOM 中内容没变，直接使用之前的真实 DOM；若虚拟 DOM 中内容变了，则生成新的真实 DOM，随后渲染到页面。</p></li><li><p>用 index 作为 key 可能会引发的问题：若对数据进行逆序添加、逆序删除等破坏顺序操作，会产生没有必要的真实 DOM 更新 =&gt; 界面效果没问题，但效率低；如果结构中还包含输入类的 DOM 会产生错误 DOM 更新 =&gt; 界面有问题。</p></li><li><p>开发中如何选择 key？最好使用每条数据的唯一标识作为 key，如 id、手机号、身份证号、学号等；如果不存在对数据的逆序添加、逆序删除等破坏顺序操作，仅用于渲染列表用于展示，使用 index 作为 key 是没有问题的。</p></li></ul><h3 id="_1-12-列表过滤与排序" tabindex="-1"><a class="header-anchor" href="#_1-12-列表过滤与排序" aria-hidden="true">#</a> 1.12 列表过滤与排序</h3><h3 id="_1-13-vue-监测数据的原理" tabindex="-1"><a class="header-anchor" href="#_1-13-vue-监测数据的原理" aria-hidden="true">#</a> 1.13 Vue 监测数据的原理</h3><ul><li>Vue.set()方法</li></ul><p>可以动态增加没有在 data 中定义的属性</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>root<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      名字：{{student.name}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/&gt;</span></span>
      性别：{{student.sex}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/&gt;</span></span>
      年龄：{{student.age}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/javascript<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      Vue.config.productionTip = false;
      const vm = new Vue({
        el: &quot;#root&quot;,
        data: {
          student: {
            name: &quot;孙悟空&quot;,
            age: 500,
          },
            hobby:[]
        },
      });
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 修改data里的对象</span>
<span class="token comment">// vm.$set(vm._data.student,&#39;sex&#39;,&#39;男&#39;)</span>
<span class="token comment">// Vue.set(vm._data.student,&#39;sex&#39;,&#39;男&#39;)</span>

<span class="token comment">// 修改data里的数组</span>
vm<span class="token punctuation">.</span><span class="token function">$set</span><span class="token punctuation">(</span>vm<span class="token punctuation">.</span>_data<span class="token punctuation">.</span>hobby<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&#39;游泳&#39;</span><span class="token punctuation">)</span>
<span class="token comment">// 也可以合理引用Vue官网认可修改数组元素的方法，如push，可查看官方文档</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>注意地，这两种方法只能给 data 对象里的对象添加属性，可以添加数组数据，不能直接在 data 根数据添加属性。主要是 data 里定义的非数组属性都会包含有 get、set 方法。</p><ul><li><p>Vue 检测对象原理：通过 setter 实现，且在 new Vue 实例化时就传入要监测的数组。对象后加的属性，Vue 默认不做响应处理，如果需要做响应处理，使用 set 方法。</p></li><li><p>Vue 检测数组的原理：通过包裹数组更新元素的方法实现，本质就是做了两件事：调用原生对应的方法对数组进行更新；重新解析模板，进而更新页面。在 Vue 中修改数组使用 set 方法或 push、pop、shift、unshift、splice、sort、reverse。</p></li></ul><h3 id="_1-14-收集表单数据" tabindex="-1"><a class="header-anchor" href="#_1-14-收集表单数据" aria-hidden="true">#</a> 1.14 收集表单数据</h3><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>root<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">@submit.prevent</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>demo<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    账号：<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userInfo.username<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/&gt;</span></span>
    密码：<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userInfo.password<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/&gt;</span></span>
    性别：
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>radio<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>sex<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userInfo.sex<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>male<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>radio<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>sex<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userInfo.sex<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>female<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/&gt;</span></span>
    爱好：<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>checkbox<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userInfo.hobby<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>学习<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span> 学习
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>checkbox<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userInfo.hobby<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>游戏<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>游戏
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>checkbox<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userInfo.hobby<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>编程<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>编程
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span><span class="token punctuation">&gt;</span></span>提交<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/javascript<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  Vue<span class="token punctuation">.</span>config<span class="token punctuation">.</span>productionTip <span class="token operator">=</span> <span class="token boolean">false</span>
  <span class="token keyword">const</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">&#39;#root&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">userInfo</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">username</span><span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">password</span><span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">sex</span><span class="token operator">:</span> <span class="token string">&#39;male&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">hobby</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token function">demo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>userInfo<span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_1-15-过滤器" tabindex="-1"><a class="header-anchor" href="#_1-15-过滤器" aria-hidden="true">#</a> 1.15 过滤器</h3><ul><li>过滤器：对数据进行格式化</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 计算属性实现</span>
<span class="token comment">// methods实现</span>
<span class="token comment">// 过滤器实现：可以使用多个过滤器</span>
<span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>价格：<span class="token punctuation">{</span><span class="token punctuation">{</span>money<span class="token operator">|</span>moneyFormat<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>

<span class="token comment">// 局部过滤器</span>
<span class="token literal-property property">filters</span><span class="token operator">:</span> <span class="token punctuation">{</span>
	<span class="token function">moneyFormat</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token string">&quot;￥&quot;</span> <span class="token operator">+</span> value<span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>

<span class="token comment">// 全局过滤器</span>
Vue<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token string">&quot;moneyFormat&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">&quot;￥&quot;</span> <span class="token operator">+</span> value<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_1-16-指令" tabindex="-1"><a class="header-anchor" href="#_1-16-指令" aria-hidden="true">#</a> 1.16 指令</h3><h4 id="_1-16-1-vue-内置指令" tabindex="-1"><a class="header-anchor" href="#_1-16-1-vue-内置指令" aria-hidden="true">#</a> 1.16.1 Vue 内置指令</h4><ul><li><p><strong>v-bind</strong>：单向绑定解析表达式，可简写为：xxx。</p></li><li><p><strong>v-model</strong>：双向数据绑定。</p></li><li><p><strong>v-for</strong>：遍历数组/对象/字符串。</p></li><li><p><strong>v-on</strong>：绑定事件监听，简写为@。</p></li><li><p><strong>v-if</strong>：动态控制节点是否存在。</p></li><li><p><strong>v-show</strong>：动态控制节点是否展示。</p></li><li><p><strong>v-text</strong>：向其所在的节点中渲染文本内容。与插值语法的区别：v-text 会替换掉节点中的内容，不好扩展内容</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>你好，{{name}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- name内容覆盖掉内容：你好 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>name<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>你好<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><strong>v-html</strong>：</p></li><li><p><strong>v-cloak</strong>：没有值，是一个特殊属性，Vue 实例创建完毕并接管容器后，会删掉 v-cloak 属性；使用 css 配合 v-cloak 可以解决网速慢时页面展示。</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code>// css：当数据还没有加载出来就不显示
[v-cloak]{
  display:none;
}

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span> <span class="token attr-name">v-cloak</span><span class="token punctuation">&gt;</span></span>{{name}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><strong>v-once</strong>：只渲染一次，在节点初次到动态渲染后，就视为静态内容了。以后数据的改变不会引起 v-once 所在结构的更新，可以用于优化性能。</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span> <span class="token attr-name">v-once</span><span class="token punctuation">&gt;</span></span>初始化n值：{{n}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>当前n值：{{n}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>n++<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>增加n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><strong>v-pre</strong>：跳过其所在节点的编译过程，可利用它跳过：没有使用指令语法，没有使用插值语法的节点，会加快节点。</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span> <span class="token attr-name">v-pre</span><span class="token punctuation">&gt;</span></span>前端，你好1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>当前n值：{{n}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>n++<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>增加n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h4 id="_1-16-2-自定义指令" tabindex="-1"><a class="header-anchor" href="#_1-16-2-自定义指令" aria-hidden="true">#</a> 1.16.2 自定义指令</h4><ul><li><p>函数式：什么时候调用指令函数，指令与元素成功绑定时；指令所在的模板被重新解析时。</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>放大10倍n值：<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">v-big</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>99+1+2<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// element：真实Html</span>
<span class="token comment">// binding：绑定真实</span>
<span class="token function">big</span><span class="token punctuation">(</span><span class="token parameter">element<span class="token punctuation">,</span> binding</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token comment">// console.log(element, binding);</span>
element<span class="token punctuation">.</span>innerText <span class="token operator">=</span> binding<span class="token punctuation">.</span>value <span class="token operator">*</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>对象式：</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>当前n值：{{n}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>n++<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>增加n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">v-fbind:</span>value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>n<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token literal-property property">directives</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">fbind</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// 指令与元素成功绑定时</span>
    <span class="token function">bind</span><span class="token punctuation">(</span><span class="token parameter">element<span class="token punctuation">,</span> binding</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    element<span class="token punctuation">.</span>value <span class="token operator">=</span> binding<span class="token punctuation">.</span>value<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// 指令所在元素被插入页面</span>
    <span class="token function">inserted</span><span class="token punctuation">(</span><span class="token parameter">element<span class="token punctuation">,</span> binding</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 初始化时焦点聚焦</span>
    element<span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// 指令所在的模板被重新解析</span>
    <span class="token function">update</span><span class="token punctuation">(</span><span class="token parameter">element<span class="token punctuation">,</span> binding</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    element<span class="token punctuation">.</span>value <span class="token operator">=</span> binding<span class="token punctuation">.</span>value<span class="token punctuation">;</span>
    <span class="token comment">// 数据更新时也聚焦</span>
    element<span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h3 id="_1-17-vue-的生命周期" tabindex="-1"><a class="header-anchor" href="#_1-17-vue-的生命周期" aria-hidden="true">#</a> 1.17 Vue 的生命周期</h3><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>root<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{info}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/javascript<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  Vue<span class="token punctuation">.</span>config<span class="token punctuation">.</span>productionTip <span class="token operator">=</span> <span class="token boolean">false</span>
  <span class="token keyword">const</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">&#39;#root&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">info</span><span class="token operator">:</span> <span class="token string">&#39;北极光之夜&#39;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token function">show</span><span class="token punctuation">(</span><span class="token parameter">info<span class="token punctuation">,</span> obj</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>info<span class="token punctuation">)</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;获取Vue实例data里的数据：&#39;</span><span class="token punctuation">,</span> obj<span class="token punctuation">.</span>info<span class="token punctuation">)</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;挂载的对象，就是DOM：&#39;</span><span class="token punctuation">,</span> obj<span class="token punctuation">.</span>$el<span class="token punctuation">)</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>
          <span class="token string">&#39;页面上已经挂载的DOM：&#39;</span><span class="token punctuation">,</span>
          document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;root&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerHTML
        <span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><p><strong>beforeCreate</strong>：此时 data 对象与 methods 这些都没有初始化好。data 里数据和 methods 都调不了。</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token function-variable function">beforeCreate</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token string">&quot;vue实例初始化之后&quot;</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><strong>created</strong>：data 已经创建，可以读取 data 中数据，但是 DOM 还没渲染，也就是页面还没挂载。</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token function-variable function">created</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token string">&quot;vue实例初始化之后&quot;</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token comment">// vue实例初始化之后</span>
<span class="token comment">// 获取Vue实例data里的数据： 北极光之夜</span>
<span class="token comment">// 挂载的对象，就是DOM： undefined</span>
<span class="token comment">// 页面上已经挂载的DOM： {{info}}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><strong>beforeMount</strong>：完成了模板的编译，还没挂载，DOM 已经渲染，但是数据还没有渲染在页面上</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token function-variable function">beforeMount</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token string">&quot;挂载之前&quot;</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token comment">// 挂载之前</span>
<span class="token comment">// 获取Vue实例data里的数据： 北极光之夜</span>
<span class="token comment">// 挂载的对象，就是DOM</span>
<span class="token comment">// 页面上已经挂载的DOM： {{info}}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><strong>mounted</strong>：模板编译好了，也挂在到页面中，页面正常显示了。</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token function-variable function">mounted</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token string">&quot;挂载之后&quot;</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token comment">// 挂载之后</span>
<span class="token comment">// 获取Vue实例data里的数据： 北极光之夜</span>
<span class="token comment">// 挂载的对象，就是DOM： &lt;div id=&quot;root&quot;&gt;北极光之夜&lt;/div&gt;</span>
<span class="token comment">// 页面上已经挂载的DOM： 北极光之夜</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><strong>beforeUpdate</strong>：先在控制台执行 vm.info=&#39;王者荣耀&#39;。data 已经更新，但是页面显示数据还是原来的，还没有重新开始渲染 DOM 树。</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token function-variable function">beforeUpdate</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token string">&quot;更新之前&quot;</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token comment">// 更新之前</span>
<span class="token comment">// 获取Vue实例data里的数据： 王者荣耀</span>
<span class="token comment">// 挂载的对象，就是DOM： &lt;div id=&quot;root&quot;&gt;王者荣耀&lt;/div&gt;</span>
<span class="token comment">// 页面上已经挂载的DOM： 北极光之夜</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><strong>updated</strong>：data 已经更新，但是页面显示数据还是原来的，重新开始渲染 DOM 树。</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token function-variable function">beforeUpdate</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token string">&quot;更新之后&quot;</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token comment">// 更新之后</span>
<span class="token comment">// 获取Vue实例data里的数据： 王者荣耀</span>
<span class="token comment">// 挂载的对象，就是DOM： &lt;div id=&quot;root&quot;&gt;王者荣耀&lt;/div&gt;</span>
<span class="token comment">// 页面上已经挂载的DOM： 王者荣耀</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><strong>beforeDestroy</strong>：vue 实例被销毁之前，vue 实例还能被使用。</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token function-variable function">beforeDestroy</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token string">&quot;销毁之前&quot;</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token comment">// 销毁之前</span>
<span class="token comment">// 获取Vue实例data里的数据： 北极光之夜</span>
<span class="token comment">// 挂载的对象，就是DOM： &lt;div id=&quot;root&quot;&gt;北极光之夜&lt;/div&gt;</span>
<span class="token comment">// 页面上已经挂载的DOM： 北极光之夜</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><strong>destroyed</strong>：这个阶段在 vue 实例销毁后调用，此时所有实例指示的所有东西都会解除绑定，事件监听器也都移除，子实例也被销毁。</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token function-variable function">destroyed</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token string">&quot;销毁之后&quot;</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 销毁之后</span>
<span class="token comment">// 获取Vue实例data里的数据： 北极光之夜</span>
<span class="token comment">// 挂载的对象，就是DOM： &lt;div id=&quot;root&quot;&gt;北极光之夜&lt;/div&gt;</span>
<span class="token comment">// 页面上已经挂载的DOM： 北极光之夜</span>
<span class="token comment">// undefined</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h2 id="_2-vue-组件化编程" tabindex="-1"><a class="header-anchor" href="#_2-vue-组件化编程" aria-hidden="true">#</a> 2 vue 组件化编程</h2><h3 id="_2-1-什么是组件" tabindex="-1"><a class="header-anchor" href="#_2-1-什么是组件" aria-hidden="true">#</a> 2.1 什么是组件？</h3><ul><li>组件：实现应用中局部功能代码和资源的集合。</li></ul><h3 id="_2-2-非单文件组件与单文件组件" tabindex="-1"><a class="header-anchor" href="#_2-2-非单文件组件与单文件组件" aria-hidden="true">#</a> 2.2 非单文件组件与单文件组件</h3><ul><li>非单文件组件：一个文件中包含有 n 个组件。</li><li>单文件组件：一个文件中只包含有 1 个组件。</li></ul><h3 id="_2-3-组件的几个注意点" tabindex="-1"><a class="header-anchor" href="#_2-3-组件的几个注意点" aria-hidden="true">#</a> 2.3 组件的几个注意点</h3><ul><li>组件命名：一个单词时（首字母小写：home；首字母大写：Home），多个单词时（驼峰命名需要脚手架支持：MySchool，横线分割：my-school）、命名尽量回避 html 元素名称，如 h1、h2。</li></ul><h3 id="_2-4-组件嵌套" tabindex="-1"><a class="header-anchor" href="#_2-4-组件嵌套" aria-hidden="true">#</a> 2.4 组件嵌套</h3><h3 id="_2-5-vuecomponent" tabindex="-1"><a class="header-anchor" href="#_2-5-vuecomponent" aria-hidden="true">#</a> 2.5 VueComponent</h3><ul><li><p><strong>VueComponent</strong>：组件本质是一个名为 VueComponent 的构造函数，且不是程序员定义的，是<strong>Vue.extend</strong>生成的。我们只需要在 template 写组件，Vue 解析时会帮我们创建组件的实例对象，即 Vue 帮我们执行的<strong>new VueComponent(options)</strong>。注意地，每次调用 Vue.extend，返回的是一个全新的 VueComponent</p></li><li><p>关于 this 的指向：</p><p><strong>组件配置</strong>：data 函数、methods 中的函数、watch 中的函数、cpmputed 中的函数，它们的 this 均是<strong>VueComponent 实例对象</strong>。</p><p><strong>new Vue 配置</strong>：data 函数、methods 中的函数、watch 中的函数、cpmputed 中的函数，它们的 this 均是<strong>Vue 实例对象</strong>。</p></li></ul><h2 id="_3-vue-cli" tabindex="-1"><a class="header-anchor" href="#_3-vue-cli" aria-hidden="true">#</a> 3 vue-cli</h2><h3 id="_3-1-创建脚手架" tabindex="-1"><a class="header-anchor" href="#_3-1-创建脚手架" aria-hidden="true">#</a> 3.1 创建脚手架</h3><h3 id="_3-2-脚手架结构" tabindex="-1"><a class="header-anchor" href="#_3-2-脚手架结构" aria-hidden="true">#</a> 3.2 脚手架结构</h3><h3 id="_3-3-render-函数-模板解析器" tabindex="-1"><a class="header-anchor" href="#_3-3-render-函数-模板解析器" aria-hidden="true">#</a> 3.3 render 函数（模板解析器）</h3><p>vue.js 文件与 vue.runtime.xxx.js 的区别：</p><p>（1）vue.js 是完整版的 Vue，包含：核心功能+模板解析器</p><p>（2）vue.runtime.xxx.js 是运行版的 vue，只包含核心功能，没有模板解析器，所以不能配置 template 配置项，需要使用 render 函数接收到的 createElement 函数去指定具体内容。</p><h3 id="_3-4-修改脚手架默认配置" tabindex="-1"><a class="header-anchor" href="#_3-4-修改脚手架默认配置" aria-hidden="true">#</a> 3.4 修改脚手架默认配置</h3><ul><li><p>查看 Vue 脚手架默认配置：</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>vue inspect &gt; output.js
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>使用 vue.config.js 可以对脚手架进行个性化定制。</p></li></ul><h2 id="_4-vue-一些特性" tabindex="-1"><a class="header-anchor" href="#_4-vue-一些特性" aria-hidden="true">#</a> 4 Vue 一些特性</h2><h3 id="_4-1-ref-属性" tabindex="-1"><a class="header-anchor" href="#_4-1-ref-属性" aria-hidden="true">#</a> 4.1 ref 属性</h3><ul><li><p>给标签添加 ref 属性：获取的是真实 DOM 元素。</p></li><li><p>给组件添加 ref 属性：组件的实例对象。</p></li></ul><h3 id="_4-2-props-配置" tabindex="-1"><a class="header-anchor" href="#_4-2-props-配置" aria-hidden="true">#</a> 4.2 props 配置</h3><ul><li><p>传递数据：</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>&lt;Demo name=&quot;xxx&quot;/&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>接收数据：第一种方式（只接收）：props:[&#39;name&#39;]，第二种方式：限制类型，props:{name:Number}，第三种方式：限制类型、限制必要性、指定默认值，props:{name:{type:String,required:true,default:&#39;老王&#39;}}</p></li></ul><h3 id="_4-3-mixin-混入" tabindex="-1"><a class="header-anchor" href="#_4-3-mixin-混入" aria-hidden="true">#</a> 4.3 mixin 混入</h3><ul><li><strong>局部混合</strong>：</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// js文件封装方法</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> hunhe <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">showName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">alert</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// vue组件</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>hunhe<span class="token punctuation">}</span> <span class="token string">&#39;../mixins&#39;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span><span class="token punctuation">{</span>
  <span class="token literal-property property">data</span><span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">&#39;书悟空&#39;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">mixins</span><span class="token operator">:</span><span class="token punctuation">[</span>hunhe<span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><p><strong>全局混合</strong>：</p><div class="language-vue line-numbers-mode" data-ext="vue"><pre class="language-vue"><code>Vue.mixin(xxx);
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li></ul><h3 id="_4-4-插件" tabindex="-1"><a class="header-anchor" href="#_4-4-插件" aria-hidden="true">#</a> 4.4 插件</h3><ul><li><p>用于增强 Vue，本质：包含 install 方法的一个对象，install 的第一个参数是 Vue，第二个以后的参数是插件使用者传递的数据。</p></li><li><p>定义插件：</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>对象.install = function (Vue,options){
  // 添加全局过滤器
  Vue.filter(....);
  // 添加全局指令
  Vue.directive(....);
  // 配置全局混入
  Vue.mixin(....);
  ....
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>使用插件：Vue.use()</p></li></ul><h3 id="_4-5-scoped-样式" tabindex="-1"><a class="header-anchor" href="#_4-5-scoped-样式" aria-hidden="true">#</a> 4.5 scoped 样式</h3><h2 id="_5-组件的编码流程" tabindex="-1"><a class="header-anchor" href="#_5-组件的编码流程" aria-hidden="true">#</a> 5 组件的编码流程</h2><ul><li>拆分静态组件：组件要按照功能点拆分，命名不要与 html 元素冲突。</li><li>实现动态组件：考虑好数据的存放位置，数据是一个组件在用，还是一些组件在用。</li></ul><h2 id="_6-浏览器的本地存储" tabindex="-1"><a class="header-anchor" href="#_6-浏览器的本地存储" aria-hidden="true">#</a> 6 浏览器的本地存储</h2><ul><li>localStorage：localStorage 存储的内容需要手动清除才会消失。</li><li>sessionStorage：存储的内容会随着浏览器关闭而消失。</li></ul><h2 id="_7-组件的自定义事件" tabindex="-1"><a class="header-anchor" href="#_7-组件的自定义事件" aria-hidden="true">#</a> 7 组件的自定义事件</h2><ul><li><p>自定义实现方法一：v-on 或@使用</p><div class="language-vue line-numbers-mode" data-ext="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Demo</span> <span class="token attr-name">@add</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>test<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Demo</span> <span class="token attr-name"><span class="token namespace">v-on:</span>add</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>test<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>自定义实现方法二：使用 ref</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>xxxx<span class="token punctuation">.</span><span class="token function">$on</span><span class="token punctuation">(</span><span class="token string">&#39;test&#39;</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>test<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>触发自定义事件：</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>this.$emit(&#39;add&#39;,数据)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li></ul><p>​ 解绑所有自定义事件：</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$off</span><span class="token punctuation">(</span><span class="token string">&#39;事件名称&#39;</span><span class="token punctuation">)</span> <span class="token comment">//解绑一个自定义事件</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$off</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// 解绑多个自定义事件</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>​ 销毁当前组件实例：</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$destory</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="_8-全局事件总线-globaleventbus" tabindex="-1"><a class="header-anchor" href="#_8-全局事件总线-globaleventbus" aria-hidden="true">#</a> 8 全局事件总线(GlobalEventBus)</h2><ul><li><p>全局事件总线：任意组件间通信。</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">&#39;#app&#39;</span><span class="token punctuation">,</span>
  <span class="token function-variable function">render</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">h</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">h</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token function">beforeCreate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">Vue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>$bus <span class="token operator">=</span> <span class="token keyword">this</span> <span class="token comment">// 安装全局事件总线，$bus就是当前应用的vm</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h2 id="_9-消息订阅与发布-pubsub" tabindex="-1"><a class="header-anchor" href="#_9-消息订阅与发布-pubsub" aria-hidden="true">#</a> 9 消息订阅与发布-pubsub</h2><h2 id="_10-vue-封装的过度与动画" tabindex="-1"><a class="header-anchor" href="#_10-vue-封装的过度与动画" aria-hidden="true">#</a> 10 Vue 封装的过度与动画</h2><p>作用：在插入、更新或移除 DOM 元素时，在合适的时候给元素添加样式类名，也就是添加 Vue 封装好的动画默认调用的 class 样式。</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>v<span class="token operator">-</span>enter：进入的起点
v<span class="token operator">-</span>enter<span class="token operator">-</span>active：进入的过程中
v<span class="token operator">-</span>enter<span class="token operator">-</span>to：进入的终点

v<span class="token operator">-</span>leave：进入的起点
v<span class="token operator">-</span>leave<span class="token operator">-</span>active：进入的过程中
v<span class="token operator">-</span>leave<span class="token operator">-</span>to：进入的终点
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>transition</strong>动画：Vue 的内置 Api，注意如果 transition 添加了 name 属性，样式的默认命名前缀 v-要改为 name 值-。不然样式不生效，。</li></ul><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>isShow = !isShow<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>显示/隐藏<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>transition</span> <span class="token attr-name">appear</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span> <span class="token attr-name">v-show</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>isShow<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>你好啊！<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>transition</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-css line-numbers-mode" data-ext="css"><pre class="language-css"><code><span class="token selector">h1</span> <span class="token punctuation">{</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> orange<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.v-enter-active</span> <span class="token punctuation">{</span>
  <span class="token property">animation</span><span class="token punctuation">:</span> myani 0.5s linear<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.v-leave-active</span> <span class="token punctuation">{</span>
  <span class="token property">animation</span><span class="token punctuation">:</span> myani 0.5s linear reverse<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token atrule"><span class="token rule">@keyframes</span> myani</span> <span class="token punctuation">{</span>
  <span class="token selector">from</span> <span class="token punctuation">{</span>
    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translateX</span><span class="token punctuation">(</span>-100%<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token selector">to</span> <span class="token punctuation">{</span>
    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translateX</span><span class="token punctuation">(</span>0<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>过度效果</strong>：不用动画只用过度实现上面内容。</li></ul><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>isShow = !isShow<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>显示/隐藏<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>transition</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hello<span class="token punctuation">&quot;</span></span> <span class="token attr-name">appear</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span> <span class="token attr-name">v-show</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>isShow<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>你好啊！<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>transition</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-css line-numbers-mode" data-ext="css"><pre class="language-css"><code><span class="token selector">h1</span> <span class="token punctuation">{</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> orange<span class="token punctuation">;</span>
  <span class="token comment">/* 谁要动画就放在谁 */</span>
  <span class="token property">transition</span><span class="token punctuation">:</span> 0.5s linear<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">/* 元素进入的起点  元素离开的终点 */</span>
<span class="token selector">.hello-enter,
.hello-leave-to</span> <span class="token punctuation">{</span>
  <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translateX</span><span class="token punctuation">(</span>-100%<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">/* 元素进入的终点  元素离开的起点 */</span>
<span class="token selector">.hello-leave,
.hello-enter-to</span> <span class="token punctuation">{</span>
  <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translateX</span><span class="token punctuation">(</span>0<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>transition-group</strong>：可以同时实现多个元素的动画，每一个元素都需要设置 key 值。</li><li><strong>第三方的集成动画库</strong>：<strong>Animate.css</strong></li></ul><h2 id="_11-vue-配置代理" tabindex="-1"><a class="header-anchor" href="#_11-vue-配置代理" aria-hidden="true">#</a> 11 Vue 配置代理</h2><p><strong>devServer.proxy</strong>：有 target、changeOrigin（改变 url 的 host，true 时，url 为 target）、ws、pathRewrite。</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>&#39;/api&#39;:{
   target:&#39;&#39;,
   changeOrigin:false,
   pathRewrite{
    &#39;^/api&#39;:&#39;&#39;;// 匹配到/api路径，由&#39;&#39;代替
   }
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_12-vuex" tabindex="-1"><a class="header-anchor" href="#_12-vuex" aria-hidden="true">#</a> 12 Vuex</h2><p>注意下，vue2 需要安装 vuex3 版本，vue3 需要安装 vuex4 版本</p><h3 id="_12-1-什么时候使用-vuex" tabindex="-1"><a class="header-anchor" href="#_12-1-什么时候使用-vuex" aria-hidden="true">#</a> 12.1 什么时候使用 vuex</h3><ul><li>多个组件依赖<strong>同一状态</strong> - 共享。</li><li>来自不同组件的行为需要变更<strong>同一状态</strong> - 共享。</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>
<span class="token keyword">import</span> Vuex <span class="token keyword">from</span> <span class="token string">&#39;vuex&#39;</span>

Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>Vuex<span class="token punctuation">)</span>

<span class="token keyword">const</span> state <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">shareBike</span><span class="token operator">:</span> <span class="token string">&#39;共享单车，暂时没有人使用！&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">isUsed</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> mutations <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token constant">USE_BIKE</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    state<span class="token punctuation">.</span>shareBike <span class="token operator">=</span> value
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token constant">IS_USED</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    state<span class="token punctuation">.</span>isUsed <span class="token operator">=</span> value
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> actions <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function">useBike</span><span class="token punctuation">(</span><span class="token parameter">context<span class="token punctuation">,</span> value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    context<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">&#39;USE_BIKE&#39;</span><span class="token punctuation">,</span> value<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">isUsed</span><span class="token punctuation">(</span><span class="token parameter">context<span class="token punctuation">,</span> value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    context<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">&#39;IS_USED&#39;</span><span class="token punctuation">,</span> value<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> modules <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">const</span> getters <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">Vuex<span class="token punctuation">.</span>Store</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  state<span class="token punctuation">,</span>
  getters<span class="token punctuation">,</span>
  mutations<span class="token punctuation">,</span>
  actions<span class="token punctuation">,</span>
  modules<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_13-vue-router" tabindex="-1"><a class="header-anchor" href="#_13-vue-router" aria-hidden="true">#</a> 13 vue-router</h2><p>为什么需要路由，因为以前都是多页面应用，也就是说一个页面有多个页面跳转，也就是多个 html，体验不好。如果用路由实现单页面，就可以通过路由切换单页面，一个路径一个页面。</p><h3 id="_13-1-路由的几个注意点" tabindex="-1"><a class="header-anchor" href="#_13-1-路由的几个注意点" aria-hidden="true">#</a> 13.1 路由的几个注意点</h3><ul><li>路由组件通常存放在 pages 文件夹，一般组件通常存在 components。</li><li>通过切换。隐藏路由组件，默认是被销毁的，需要的时候再去挂载。</li><li>每个组件都有自己的$route 属性，里面存着自己路由的信息。</li><li>整个应用只有一个 router，通过组件的$router 属性获取到。</li></ul><h3 id="_13-2-嵌套-多级-路由" tabindex="-1"><a class="header-anchor" href="#_13-2-嵌套-多级-路由" aria-hidden="true">#</a> 13.2 嵌套（多级）路由</h3><h3 id="_13-3-命名路由" tabindex="-1"><a class="header-anchor" href="#_13-3-命名路由" aria-hidden="true">#</a> 13.3 命名路由</h3><p>也就是路由数组中定义了一个 name，在传参的时候可以简化路由字符串</p><div class="language-vue line-numbers-mode" data-ext="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">:to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/home/message/detail<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">:to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{ name: &#39;detail&#39; }<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_13-4-路由参数" tabindex="-1"><a class="header-anchor" href="#_13-4-路由参数" aria-hidden="true">#</a> 13.4 路由参数</h3><ul><li><p>query：</p><div class="language-vue line-numbers-mode" data-ext="vue"><pre class="language-vue"><code>字符串写法
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">:to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/home/message/detail?id=666&amp;&amp;title=你好<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span>

对象写法
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">:to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{ path: &#39;&#39;, query: {} }<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>params：</p><div class="language-vue line-numbers-mode" data-ext="vue"><pre class="language-vue"><code>path:&#39;detail/:id/:title&#39;

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">:to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/home/message/detail/666/你好<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">:to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{name:&#39;detail&#39;,params:{id:,title:}}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h3 id="_13-5-路由的-props" tabindex="-1"><a class="header-anchor" href="#_13-5-路由的-props" aria-hidden="true">#</a> 13.5 路由的 props</h3><p>让组件更方便获取路由参数。</p><ul><li>props 的第一种写法：值为对象，该对象中所有 key-value 都会以 props 的形式传给组件</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span><span class="token punctuation">,</span>
  <span class="token literal-property property">path</span><span class="token operator">:</span><span class="token punctuation">,</span>
  component<span class="token punctuation">,</span>
  <span class="token literal-property property">props</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token literal-property property">a</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token literal-property property">b</span><span class="token operator">:</span><span class="token string">&#39;666&#39;</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><p>props 的第二种写法：值为布尔值，若布尔值为真，就会把该路由组件收到的所有 params 参数，以 props 的形式传给组件。</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 在组件中接收</span>
<span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;id&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;title&#39;</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>props 的第三种写法：值为函数，返回值是一个对象.</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token function">props</span><span class="token punctuation">(</span><span class="token parameter">route</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token literal-property property">id</span><span class="token operator">:</span>route<span class="token punctuation">.</span>query<span class="token punctuation">.</span>id<span class="token punctuation">,</span><span class="token literal-property property">title</span><span class="token operator">:</span>route<span class="token punctuation">.</span>query<span class="token punctuation">.</span>title<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h3 id="_13-6-router-link" tabindex="-1"><a class="header-anchor" href="#_13-6-router-link" aria-hidden="true">#</a> 13.6 router-link</h3><ul><li><p>router-link：默认是使用栈存取路由（push），如果配置了 replace 就不是，直接替换掉上一条路由。</p><div class="language-vue line-numbers-mode" data-ext="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">replace</span> <span class="token attr-name">:to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{name:&#39;detail&#39;,params:{id:,title:}}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li></ul><h3 id="_13-7-编程式路由导航" tabindex="-1"><a class="header-anchor" href="#_13-7-编程式路由导航" aria-hidden="true">#</a> 13.7 编程式路由导航</h3><p>作用：不借助 router-link 实现路由跳转，让路由跳转更加灵活。</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
   <span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">&#39;xiangqing&#39;</span><span class="token punctuation">,</span>
   <span class="token literal-property property">params</span><span class="token operator">:</span><span class="token punctuation">{</span>
     <span class="token literal-property property">id</span><span class="token operator">:</span>xxx<span class="token punctuation">,</span>
     <span class="token literal-property property">title</span><span class="token operator">:</span>xxxx
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
   <span class="token operator">...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_13-8-缓存路由" tabindex="-1"><a class="header-anchor" href="#_13-8-缓存路由" aria-hidden="true">#</a> 13.8 缓存路由</h3><ul><li><strong>keep-alive</strong>：有一个属性 include（字符串或数组）指定需要缓存的组件。每次切换不会执行组件销毁</li></ul><h2 id="_14-路由守卫" tabindex="-1"><a class="header-anchor" href="#_14-路由守卫" aria-hidden="true">#</a> 14 路由守卫</h2><h3 id="_14-1-全局前置守卫-beforeeach" tabindex="-1"><a class="header-anchor" href="#_14-1-全局前置守卫-beforeeach" aria-hidden="true">#</a> 14.1 全局前置守卫（beforeEach）</h3><ul><li><strong>beforeEach</strong>：初始化的时候被调用、每次路由切换之前被调用</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// to：将要进入的路由</span>
<span class="token comment">// from：将要离开的路由</span>
<span class="token comment">// next：执行下去，放行，必须有。</span>
router<span class="token punctuation">.</span><span class="token function">beforeEach</span><span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span>form<span class="token punctuation">,</span>next</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token operator">...</span>
  <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_14-2-全局后置守卫-aftereach" tabindex="-1"><a class="header-anchor" href="#_14-2-全局后置守卫-aftereach" aria-hidden="true">#</a> 14.2 全局后置守卫（afterEach）</h3><ul><li><strong>afterEach</strong>：初始化的时候被调用、每次路由切换之后被调用</li></ul><h3 id="_14-3-独享路由守卫-beforeenter" tabindex="-1"><a class="header-anchor" href="#_14-3-独享路由守卫-beforeenter" aria-hidden="true">#</a> 14.3 独享路由守卫（beforeEnter）</h3><ul><li><strong>beforeEnter</strong>：指定某个路由独立使用的守卫</li></ul><h3 id="_14-4-组件内路由守卫" tabindex="-1"><a class="header-anchor" href="#_14-4-组件内路由守卫" aria-hidden="true">#</a> 14.4 组件内路由守卫</h3><ul><li><strong>beforeRouteEnter</strong>：通过路由规则，进入该组件时被调用。</li><li><strong>beforeRouteLeave</strong>：通过路由规则，离开该组件时被调用。</li></ul><h3 id="_14-5-history-模式与-hash-模式" tabindex="-1"><a class="header-anchor" href="#_14-5-history-模式与-hash-模式" aria-hidden="true">#</a> 14.5 history 模式与 hash 模式</h3><ul><li><strong>hash 模式</strong>：默认方式，兼容性好，带<code>/#/</code>后面的路径，只是前端工作需要添加的，服务器会忽略。</li><li><strong>history 模式</strong>：路径都是提交给服务器的实在的资源路径，不会忽略，如果不做任何处理刷新页面会出现 404 错误。要想处理整个问题，这时候需要后端处理，比如安装中间件（安装 connect-history-api-fallback）。</li></ul><h1 id="vue3-学习笔记" tabindex="-1"><a class="header-anchor" href="#vue3-学习笔记" aria-hidden="true">#</a> Vue3-学习笔记</h1><h2 id="_1-vue3-带来什么" tabindex="-1"><a class="header-anchor" href="#_1-vue3-带来什么" aria-hidden="true">#</a> 1 Vue3 带来什么？</h2><ul><li>性能提升：打包大小减少 41%、初次渲染快 55%，更新渲染快 133%、内存减少 54%。</li><li>源码升级：使用 proxy 代替 defineProperty 实现响应式、重写虚拟 DOM 的实现和 Tree-Shaking</li><li>拥抱 Ts：可以更好支持 ts</li><li>新的特性：组合 API（Composition API）、新的内置组件等</li></ul><h2 id="_2-初识-setup" tabindex="-1"><a class="header-anchor" href="#_2-初识-setup" aria-hidden="true">#</a> 2 初识 setup</h2><ul><li><p>setup：Vue3 中一个新的配置项，值为一个函数，是所有 Composition API 的表演舞台，也就是组件中所用到的数据、方法等等，均要配置在 setup 中</p></li><li><p>setup 函数的两种返回值：</p><p>1）返回一个对象，则对象中的属性、方法、在模板中均可以直接使用。</p><p>2）返回一个渲染函数：则可以自定义渲染内容。</p></li><li><p>setup 两个注意点：</p><p>1）尽量不要与 Vue2.x 配置使用，因为 Vue2 配置中可以访问到 setup 中的属性、方法。但在 setup 中不能访问到 Vue2 配置，如果有重名属性，setup 优先。</p><p>2）setup 不能是一个 async 函数，因为返回值不再是 return 的对象，而是 promise，模板看不到 return 对象中属性。</p></li></ul><h2 id="_3-ref-函数" tabindex="-1"><a class="header-anchor" href="#_3-ref-函数" aria-hidden="true">#</a> 3 ref 函数</h2><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token function">setup</span><span class="token punctuation">(</span><span class="token parameter">props<span class="token punctuation">,</span>context</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> name <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">&#39;张三&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// RefImpl对象</span>
    <span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">&#39;张三&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">age</span><span class="token operator">:</span><span class="token number">15</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> <span class="token function-variable function">changeInfo</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
        name<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">&#39;李四&#39;</span><span class="token punctuation">;</span>
        obj<span class="token punctuation">.</span>value<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&#39;李四&#39;</span><span class="token punctuation">;</span>
        obj<span class="token punctuation">.</span>value<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token string">&#39;19&#39;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
        name<span class="token punctuation">,</span>
        obj<span class="token punctuation">,</span>
        changeInfo<span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>RefImpl：reference implement，引用实现。</p><p>ref 作用：定义一个响应式数据。接收的数据可以是基本类型，也可以是数据类型。</p><p>基本类型的数据：响应式依然是靠 Object.defineProperty()的 get 与 set 完成的。</p><p>对象类型的数据：内部“求助”了 Vue3 中的一个新函数：<strong>reactive 函数</strong>。</p><h2 id="_4-reactive-函数" tabindex="-1"><a class="header-anchor" href="#_4-reactive-函数" aria-hidden="true">#</a> 4 reactive 函数</h2><ul><li>作用：定义一个对象类型的响应式数据（基本数据类型不要用它，要用 ref 数据）。</li><li>原理：内部基于 proxy 实现，通过代理对象操作源对象内部数据进行操作。</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token function">setup</span><span class="token punctuation">(</span><span class="token parameter">props<span class="token punctuation">,</span>context</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> name <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">&#39;张三&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">&#39;张三&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">age</span><span class="token operator">:</span><span class="token number">15</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;学习&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;游泳&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> <span class="token function-variable function">changeInfo</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
        name<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">&#39;李四&#39;</span><span class="token punctuation">;</span>
        obj<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&#39;李四&#39;</span><span class="token punctuation">;</span>
        obj<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token string">&#39;19&#39;</span><span class="token punctuation">;</span>
        arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&#39;冲浪&#39;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
        name<span class="token punctuation">,</span>
        obj<span class="token punctuation">,</span>
        changeInfo<span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_5-响应原理" tabindex="-1"><a class="header-anchor" href="#_5-响应原理" aria-hidden="true">#</a> 5 响应原理</h2><h3 id="_5-1-vue2-的响应原理" tabindex="-1"><a class="header-anchor" href="#_5-1-vue2-的响应原理" aria-hidden="true">#</a> 5.1 Vue2 的响应原理</h3><ul><li>对象类型：通过 object.defineProperty()对属性的读取、修改进行拦截（数据劫持）。</li><li>数组类型：通过重写更新数组的一系列方法来实现拦截。（对数组的变更方法进行了包裹）</li></ul><p>存在问题：</p><ul><li>新增属性、删除属性，界面不会更新。</li><li>直接通过下标修改数组，界面不会自动更新。</li></ul><h3 id="_5-2-vue3-的响应原理" tabindex="-1"><a class="header-anchor" href="#_5-2-vue3-的响应原理" aria-hidden="true">#</a> 5.2 Vue3 的响应原理</h3><ul><li>实现原理：通过 proxy 代理，拦截对象中任意属性的变化，包括：属性值的读写、属性的添加、属性的删除等；通过 Reflect 反射，对被代理对象的属性进行操作。</li></ul><h2 id="_6-computed-计算属性" tabindex="-1"><a class="header-anchor" href="#_6-computed-计算属性" aria-hidden="true">#</a> 6 computed 计算属性</h2><h2 id="_7-watch-侦听器" tabindex="-1"><a class="header-anchor" href="#_7-watch-侦听器" aria-hidden="true">#</a> 7 watch 侦听器</h2><ul><li><p>监视 ref 所定义的一个响应式数据</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>watch(a,(newVal,oldVal))
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>监视 ref 所定义的多个响应式数据</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>watch([],(newVal,oldVal))
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>监听 reactive 所定义的一个响应式数据的全部属性，无法获取正确的 oldVal，deep 配置无效。</p></li><li><p>监听 reactive 所定义的一个响应式数据中的某个属性</p><div class="language-vue line-numbers-mode" data-ext="vue"><pre class="language-vue"><code>watch([()=&gt;person.name],(newVal,oldVal))
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>监视 reactvie 所定义的一个响应式数据中的某些属性</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>watch([()=&gt;person.name,()=&gt;person.age],(newVal,oldVal))
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>监听 reactive 所定义的对象中某个嵌套对象属性，所以 deep 配置有效。</p></li></ul><h2 id="_8-watcheffect-函数" tabindex="-1"><a class="header-anchor" href="#_8-watcheffect-函数" aria-hidden="true">#</a> 8 watchEffect 函数</h2><ul><li><p><strong>watch</strong>：既要指明监视的属性，也要指明监视的回调。</p></li><li><p><strong>watchEffect</strong>：不用指明监视哪个属性，监视的回调中用到哪个属性，那就监视哪个属性。</p><div class="language-vue line-numbers-mode" data-ext="vue"><pre class="language-vue"><code>watchEffect(()=&gt;{ // 在回调函数中使用到什么属性就监听什么 })
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>watchEffect 优点像 computed：但 computed 注重计算出来的值（回调函数的返回值），所以必须要写返回值；watchEffect 更注重的是过程（回调函数的函数体），所以不用写返回值。</p></li></ul><h2 id="_9-自定义-hook-函数" tabindex="-1"><a class="header-anchor" href="#_9-自定义-hook-函数" aria-hidden="true">#</a> 9 自定义 hook 函数</h2><p>什么是 hook？</p><p>本质是一个函数，把 setup 函数中使用的 Composition API 进行了封装。类似于 vue2.x 中的 mixin。自定义 hook 的优势；复用代码，让 setup 中的逻辑更清楚易懂。</p><h2 id="_10-toref-与-torefs" tabindex="-1"><a class="header-anchor" href="#_10-toref-与-torefs" aria-hidden="true">#</a> 10 toRef 与 toRefs</h2><p>toRef：创建一个 ref 对象，其 value 值指向另一个对象中的某个属性；要将响应式对象中的某个属性单独提供给外部使用时。</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>const name = toRef(person,&#39;name&#39;);
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>toRefs 与 toRef 功能一致，但可以批量创建多个 ref 对象，语法：toRefs(person);</p><h2 id="_11-shallowreactive-与-shallowref" tabindex="-1"><a class="header-anchor" href="#_11-shallowreactive-与-shallowref" aria-hidden="true">#</a> 11 shallowreactive 与 shallowRef</h2><ul><li><strong>shallowreactive</strong>：只处理对象最外层属性的响应式（浅响应式）</li><li><strong>shallowRef</strong>：只处理基本数据类型的响应式，不进行对象的响应式处理。</li></ul><p>什么时候使用？</p><ul><li>如果有一个对象数据，结构比较深，但变化时只是外层属性变化===&gt;shallowReactive</li><li>如果有一个对象数据，结构比较深，后续功能不会修改对象中的属性，而是生新的对象来替换==&gt;shallowRef</li></ul><h2 id="_12-readonly-和-shallowreadonly" tabindex="-1"><a class="header-anchor" href="#_12-readonly-和-shallowreadonly" aria-hidden="true">#</a> 12 readonly 和 shallowReadonly</h2><ul><li><strong>readonly</strong>：让一个响应式数据变为只读的（深只读）。</li><li><strong>shallowreadonly</strong>：让一个响应式数据变为只读（浅只读）。</li><li>应用场景：不希望数据被修改时。</li></ul><h2 id="_13-toraw-和-markraw" tabindex="-1"><a class="header-anchor" href="#_13-toraw-和-markraw" aria-hidden="true">#</a> 13 toRaw 和 markRaw</h2><ul><li><p><strong>toRaw</strong>：将一个由 reactive 生成的响应式对象为普通对象。</p><p>使用场景：用于读取响应式对象的普通对象，对这个普通对象的所有操作，不会引起页面更新。</p></li><li><p><strong>markRaw</strong>：标记对象，使其永远不会再成为响应式对象。</p><p>使用场景：有些值不应设置为响应式的，例如复杂的第三类库等；当渲染具有不可变数据源的大列表时，跳过响应式转换可以提高性能。</p></li></ul><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>let car = {name:&#39;汽车&#39;}
person.car = markRaw(car);// 新增car属性，如果不加markRaw就会成为person里的响应属性
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_14-customref" tabindex="-1"><a class="header-anchor" href="#_14-customref" aria-hidden="true">#</a> 14 customRef</h2><ul><li><strong>customRef</strong>：创建一个自定义的 ref，并对其依赖项跟踪和更新触发进行显式控制。</li></ul><h2 id="_15-provide-与-inject" tabindex="-1"><a class="header-anchor" href="#_15-provide-与-inject" aria-hidden="true">#</a> 15 provide 与 inject</h2><p>作用：实现祖孙组件间（跨级组件）的通信。</p><p>套路：父组件有一个 provide 选项来提供数据，子组件有一个 inject 选项来开始使用这些数据。一般跨级用这两个 api，父子直接用 props 就行。</p><h2 id="_16-响应式数据判断-isref、isreactive、isreadonly、isproxy" tabindex="-1"><a class="header-anchor" href="#_16-响应式数据判断-isref、isreactive、isreadonly、isproxy" aria-hidden="true">#</a> 16 响应式数据判断：isRef、isReactive、isReadonly、isProxy</h2><ul><li><strong>isProxy</strong>：检查一个对象是否由 reactive 或 readonly 方法创建的代理。</li></ul><h2 id="_17-composition-api-的优势" tabindex="-1"><a class="header-anchor" href="#_17-composition-api-的优势" aria-hidden="true">#</a> 17 Composition API 的优势</h2><ul><li>Options API 存在的问题：新增或者修改一个需求，就需要分别在 data，methods,computed 里修改。</li><li>Composition API 的优势：更加优雅的组织我们的代码，函数，让相关功能代码更加有序的组织在一起。</li></ul><h2 id="_18-fragment-组件" tabindex="-1"><a class="header-anchor" href="#_18-fragment-组件" aria-hidden="true">#</a> 18 Fragment 组件</h2><ul><li>在 Vue2 中：组件必须有一个根标签</li><li>在 Vue3 中：组件可以没有根标签，内部默认会将多个标签包含在一个 Fragment 虚拟元素中</li><li>好处：减少标签层级，减少内存占用。</li></ul><h2 id="_19-teleport-组件" tabindex="-1"><a class="header-anchor" href="#_19-teleport-组件" aria-hidden="true">#</a> 19 Teleport 组件</h2><ul><li><strong>Teleport</strong>：是一种能够将我们的组件 html 结构移动到指定位置的技术。</li></ul><h2 id="_20-suspense-组件" tabindex="-1"><a class="header-anchor" href="#_20-suspense-组件" aria-hidden="true">#</a> 20 Suspense 组件</h2><ul><li><strong>Suspense</strong>：等待异步组件时渲染一些二外内容，让内容有更好的用户体验。</li></ul><div class="language-vue line-numbers-mode" data-ext="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Suspense</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name"><span class="token namespace">v-slot:</span>default</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>test3</span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name"><span class="token namespace">v-slot:</span>fallback</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>加载中...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Suspense</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,224),o=[p];function l(c,i){return a(),s("div",null,o)}const d=n(e,[["render",l],["__file","vue.html.vue"]]);export{d as default};
